---
title: "[C] C 함수"
excerpt: "C언어 정리"

categories:
    - C

date: 2021-09-02
last_modified_at: 2021-09-02
---
함수 : 특정 작업을 수행하는 명령어들의 모음에 이름을 붙인 것.

함수 정의


    void print_stars() {
	    for (int i = 0; i < 30; i++)
		    printf("*");
    }

위의 코드에서..
void – 반환형(함수의 자료형); 함수에서 최종적으로 반환하는 값의 자료형<br>
printf_stars() - 함수의 이름; 이름은 사용자가 임의로 부여 가능(예약어 제외)<br>
※ printf_stars()중 괄호 안에는 매개 변수가 들어감 ex)int sum(int n)<br>
{}안의 코드들 – 함수 몸체; 함수의 기능 구현부<br>

---

인수와 매개 변수
인수 : 호출 프로그램에 의하여 함수에 실제로 전달되는 값
매개 변수 : 이 값을 전달 받는 변수

ex)

    #include <stdio.h>

    int max(int x, int y) {
    	if (x > y) return x;
    	else return y;
    }

    int main(void) {
    	int x, y;
    	int result;
	
    	x = 10;
    	y = 20;
    	result = max(x, y);
	
	    printf("%d", result);
	
    	return 0;
    }


위의 코드에서 인수는 main함수에서 지정해준 x,y의 값이다.<br>
위의 코드에서 매개 변수는 함수이름 max 뒤의 괄호에 명시된 int x, int y 이다.<br>

main 함수에서의 변수(0개 이상)를 함수에서 처리하기 위해 매개 변수를 사용한다.

반환값 : 함수가 호출한 곳으로 반환하는 작업의 결과값

위의 코드에서 반환값은 함수 이름 앞에 명시된 int 이다. int형 함수를 만들었음으로 return값(반환값)은 int(정수)형이어야 한다.

※void 형 함수는 return값(반환값)이 없다.
 -> return; 라인을 사용해 아무것도 리턴하지 않아도 되고, return 라인 자체를 생략해도 무방하다.

함수의 선언 위치 :
Visual Studio에서 c언어 코딩을 하고 실행을 하면 1번라인부터 차례대로 문장들이 실행이 된다.<br> 함수를 선언하는 것은 main함수의 코드를 보다 더 깔끔하게 만들기 위해 함수로 기능들을 만들어 사용하는 것이다.<br> 때문에 함수는 main함수보다 위에 선언되어야 한다.<br> 혹은, 함수 원형을 사용해 함수 이름만 먼저 선언한 후, 구현부는 main함수 이후에 입력해도 된다.(책의 목차와 같은 역할, 앞에서 목차를 보고 그 부분으로 쉽게 찾아갈 수 있는 것처럼, 함수도 이름부터 선언한 후 그 함수를 사용할 때에 구현부를 쉽게 찾아갈 수 있도록 하는 역할)

---

난수 함수:
헤더 파일 stdlib.h 에 포함되어 있는 rand() 함수를 이용해 생성한다.

    ex) int i = rand();

rand() 함수로 생성할 수 있는 최대 난수는 32767로 정의되어 있다.
하지만, rand()함수만 사용할 경우, 프로그램을 처음 실행할 때 외에는 고정된 값을 출력한다. 실행할 때 마다 새로운 난수를 부여 받기 위해서는 다음과 같은 명령어를 입력해야 한다.

    srand(time(NULL));

헤더파일 time.h 에 포함되어 있는 time()함수를 이용하여 시드값을 시간에 따라 새로 부여해주면 된다(이 구절은 아직은 이해할 필요가 없다.)

난수 발생 함수는 외워두는 것이 좋다.

---

함수와 변수

지역 변수 : 함수 또는 블록 안에서 정의되는 변수, 지역 변수는 해당 블록이나 함수 안에서만 사용이 가능하다.<br>
전역 변수 : 함수의 외부에서 선언되는 변수, 전역 변수는 소스 파일의 어느 곳에서도 사용이 가능하다.<br>

예를들어 main 함수 안에서 선언된 변수의 경우 main함수 블록 안에서 선언된 변수이기 때문에 지역 변수이다.<br>
main 함수 밖, 사용자가 만드는 함수 밖에서 선언된 변수의 경우, 사용자 함수, main 함수등 어느곳에서든지 사용할 수 있는 변수이기 때문에 전역 변수이다.

위의 함수 설명 부분에서 매개 변수를 사용하는 이유도 지역 변수 개념 때문이다. main 함수에서만 사용하는 지역 변수를 함수에서도 처리할 수 있게 하기 위해서는 매개 변수를 이용해 변수의 주소 혹은 값을 복사한 후, 함수에서 처리 하게 해야 한다. 이 때문에 main함수 값을 복사 혹은 이동할 매개 변수공간을 할당 한 후, 함수를 이용해 값들을 처리 하는 것이다.

---

순환 호출(재귀 함수) : 함수가 함수 자기 자신을 호출하는 함수

return값(반환값) 부분에 함수 자기 자신의 이름을 반환하는 형식으로 사용

ex)

    #include <stdio.h>

    long factorial(int n) {
    	printf("factorial(%d)\n", n);

	    if (n <= 1)return 1;//순환을 멈추는 부분
    	else return n * factorial(n - 1);//순환호출을 하는 부분
    }

위의 함수에서 매개 변수로 가져온 n의 값이 1이하인 경우 1을 반환하지만, 그 외의 경우에는 n*facotrial(n-1)을 반환한다.<br> 이 과정에서 facotrial(int n)함수가 한번 더 호출이 되고, 이는 n이 1 이하가 될 때 까지 반복된다.